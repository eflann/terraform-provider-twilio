name: reviewdog
on: [pull_request]
jobs:
  golangci-lint:
    name: runner / golangci-lint
    runs-on: ubuntu-latest
    steps:
        - uses: actions/checkout@v2
        - uses: reviewdog/action-golangci-lint@v1
          with:
            github_token: ${{ secrets.TERRAFORM_GITHUB_ACTIONS_TOKEN }}
            golangci_lint_flags: "--enable-all --exclude-use-default=true -D gomnd -D errcheck"
            level: error
            tool_name: golint
